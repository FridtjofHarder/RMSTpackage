% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/convert_contrast.R
\name{convert_contrast}
\alias{convert_contrast}
\title{Converts contrast to RMSTD, RMSTR, or HR}
\usage{
convert_contrast(
  scale_trt = NULL,
  shape_trt = 1,
  scale_ctrl = NULL,
  shape_ctrl = 1,
  parameterization = 1,
  HR = NULL,
  median_diff = NULL,
  percentile_diff = NULL,
  percentile = NULL,
  survival_diff = NULL,
  t = NULL,
  RMSTD = NULL,
  RMSTR = NULL,
  output = "RMSTD",
  tau = NULL,
  plot_curves = TRUE
)
}
\arguments{
\item{scale_trt}{A scalar \eqn{>0} specifying the \dfn{scale parameter} in the treatment group.}

\item{shape_trt}{A scalar \eqn{>0} specifying the \dfn{shape parameter} in the treatment group. Defaults to \code{shape_trt} \eqn{=1}, simplifying to exponential survival.}

\item{scale_ctrl}{A scalar \eqn{>0} specifying the \dfn{scale parameter} in the treatment group.}

\item{shape_ctrl}{A scalar \eqn{>0} specifying the \dfn{shape parameter} in the treatment group. Defaults to \code{shape_ctrl} \eqn{=1}, simplifying to exponential survival.}

\item{parameterization}{One of: \itemize{
\item \code{parameterization = 1}: specifies Weibull distributed survival as \eqn{S(t) = 1- F(t) = \exp{(-(t/\mathrm{scale})^\mathrm{shape}))}},
\item \code{parameterization = 2}: specifies Weibull distributed survival as \eqn{S(t) = 1- F(t) = \exp{(-\mathrm{scale} * t^\mathrm{shape})}},
\item \code{parameterization = 3}: specifies Weibull distributed survival as \eqn{S(t) = 1- F(t) = \exp{(-(\mathrm{scale} * t)^\mathrm{shape})}}.}}

\item{HR}{A scalar specifying a hazard ratio. \code{HR} \eqn{< 1} suggests a lower hazard in the treatment group than in the control group.}

\item{median_diff}{A scalar specifying the difference in time \eqn{\Delta t} at which each group has survival \eqn{S(t) = 0.5}. \code{median_diff} \eqn{> 0} suggests superior survival in the treatment group.}

\item{percentile_diff}{A scalar specifying the difference in time t \eqn{\Delta t} at which each group has the survival \eqn{S(t) =} \code{percentile}.}

\item{percentile}{A scalar specifying at which percentile to evaluate \code{percentile_diff}.}

\item{survival_diff}{A scalar specifying the survival difference in survival \eqn{\Delta S(t)} between treatment and control group.}

\item{t}{A scalar specifying the time \eqn{t} at which to evaluate \code{survival_diff}.}

\item{RMSTD}{A scalar specifying the RMSTD between control group and treatment group. Allows for converting RMSTD to HR.}

\item{RMSTR}{A scalar specifying the RMSTR between control group and treatment group. Allows for converting RMSTD to HR.}

\item{output}{A string specifying whether to calculate the difference in RMSTs (\code{"RMSTD"}), the ratio between RMSTs (\code{"RMSTR"}), or the HR (\code{"HR"}).}

\item{tau}{A scalar specifying the time horizon \eqn{\tau} at which to evaluate RMST with \eqn{\mathrm{RMST} = \int_{0}^{\tau}S(t) \,dt}.}

\item{plot_curves}{Boolean. Creates a plot if \code{TRUE}}
}
\value{
Returns either the difference (RMSTD), or ratio (RMSTR), or HR between RMSTs of treatment group and control group. An RMSTD \eqn{> 0} or an RMSTR \eqn{> 1} indicate a larger RMST in the treatment group.
}
\description{
Function for converting different contrasts into either the difference or the ratio of restricted mean survival times (RMSTs), or the hazard ratio (HR).
}
\details{
Convertible contrasts are: \itemize{
\item hazard ratio (HR).
\item median difference: the difference in times \eqn{t} at which each survival curve passes \eqn{S(t) = 0.5}.
\item percentile difference: the difference in times \eqn{t} at which each survival curve passes a certain \eqn{S(t)}. Simplifies to the median difference when the percentile \eqn{0.5} is chosen. TODO: discuss the term "percentile"! Should multiply by 100?]
\item survival difference: difference between two survival curves \eqn{S(t)} at a specified time \eqn{t}.}
Survival is assumed to follow Weibull distributions in both control and treatment group with a constant HR,
implying the same shape parameter in treatment and control group.

ToDo:
Output als df - besprechen mit DH
FUnction details
#'
}
\examples{
RMSTD <- convert_contrast(scale_trt = 1, shape_trt = 1, HR = 0.9,
output = "RMSTD", tau = 1)
RMSTR <- convert_contrast(scale_trt = 1, shape_trt = 1, survival_diff = 0.01,
t = 1, output = "RMSTR", tau = 1)
RMSTR <- convert_contrast(scale_trt = 1, shape_trt = 1, survival_diff = 0.01,
t = 1, output = "RMSTR", tau = 1)
}
